<!DOCTYPE html><!--  This site was created in Webflow. http://www.webflow.com  -->
<!--  Last Published: Fri Nov 05 2021 16:10:28 GMT+0000 (Coordinated Universal Time)  -->
<html data-wf-page="5be98275e4a54758ba1bdcd8" data-wf-site="5babb1264254bf0ab1cfada7">
<head>
  <meta charset="utf-8">
  <title>By Foot - Reflective Futures</title>
  <meta content="By Foot - Reflective Futures" property="og:title">
  <meta content="By Foot - Reflective Futures" property="twitter:title">
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <meta content="Webflow" name="generator">
  <link href="css/normalize.css" rel="stylesheet" type="text/css">
  <link href="css/webflow.css" rel="stylesheet" type="text/css">
  <link href="css/pk1.webflow.css" rel="stylesheet" type="text/css">
  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>
  <script type="text/javascript">WebFont.load({  google: {    families: ["Inconsolata:400,700","Libre Franklin:300,regular,600,700,800,900"]  }});</script>
  <!-- [if lt IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js" type="text/javascript"></script><![endif] -->
  <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>
  <link href="images/favicon.png" rel="shortcut icon" type="image/x-icon">
  <link href="images/webclip.png" rel="apple-touch-icon">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
  <style>
li.chap-link:hover {
	background-color: #1f1f1f !important;
  	border-bottom: 1px dotted White;
}
div.index div.column-5 {
  background-image: url('https://uploads-ssl.webflow.com/5babb1264254bf0ab1cfada7/5c4a46a9b883c14e5c8600db_dvdmap2.jpg') !important;
	background-position: 0px 50%;
    background-size: contain;
  }
div.caption {
  transition: 500ms;
  }
.hidecaption {
  opacity: 0 !important;
  }
div.cap-close {
  display: none !important;
  }
img[alt="take action megaphone"], #helpshow #actionhelp {
  display: none;
  }
  img.playcover {
    width: 40px;
    vertical-align: text-bottom !important;
    margin-top: 5px;
	}
  .control-img.audio {
  	opacity: 0;
    pointer-events: none;
    } /*no audio for now!*/
  #helpshow {
  	position: fixed;
    display: none;
    width: 100vw;
    height: 100vh;
    cursor: pointer;
    background-color: rgba(255,255,255,0.75);
    z-index: 3;
    }
  #helpshow div {
  	position: absolute;
    background-color: rgba(0,0,0,0.6);
    padding: 3px 8px;
    color: White;
    font-family: Inconsolata;
    }
  #helpshow #menuhelp {
  	top: 100px;
    left: 50px;
    }
  #helpshow #arrowshelp {
  	right: 5px;
    top: 20px;
    }
  #helpshow #actionhelp {
  	right: 180px;
    top: 105px;
    }
  #helpshow #caphelp {
  	right: 20px;
    top: 170px;
    }
  #nextchap {
  	position: fixed;
    display: none;
    bottom: 20px;
    right: 30px;
    background-color: rgba(0,0,0,0.6);
    font-family: Inconsolata, Verdana, sans-serif;
    padding: 10px;
    font-size: 30px;
    color: White;
    text-transform: uppercase;
    z-index: 3;
    cursor: pointer;
    }
@media only screen and (max-height: 800px) {
  div.titlebar {
    top: 15px;
  }
  .control-img.caption-open {
    top: 50px;
  }
  .caption {
    top: 80px;
    width: 500px;
  }
  .caption-p {
    font-size: 14px;
  }
  .cap-line {
    width: 240px;
  }
  #helpshow #caphelp {
    top: 120px;
  }
  #helpshow #menuhelp {
    top: 60px;
  }
  #helpshow #arrowshelp {
    right: 100px;
    top: 60px;
  }
}
</style>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <style>
.ghost {
	opacity: 0.65;
}
.opacity-control {
	cursor: pointer;
  }
video {
	min-width: 100% !important;
  min-height: 100vh !important;
  object-fit: cover !important;
  left: 0 !important;
  right: inherit !important;
  }
#helpshow {
  	position: fixed;
    display: none;
    width: 100vw;
    height: 100vh;
    cursor: pointer;
    background-color: rgba(255,255,255,0.75);
    z-index: 3;
    }
  #helpshow div {
  	position: absolute;
    background-color: rgba(0,0,0,0.6);
    padding: 3px 8px;
    color: White;
    font-family: Inconsolata;
    }
  #helpshow #menuhelp {
  	top: 100px;
    left: 50px;
    }
  #helpshow #arrowshelp {
  	right: 5px;
    top: 20px;
    }
  #helpshow #actionhelp {
  	right: 180px;
    top: 105px;
    }
  #helpshow #caphelp {
  	right: 20px;
    top: 170px;
    }
#map { 
  position:absolute; 
  top:0; 
  bottom:0; 
  width:100%; 
  }
.mapboxgl-popup-content div a {
	font-weight: 900;
  color: #333 !important;
  text-decoration: none;
  border-bottom: 2px solid Black;
  }
</style>
  <!-- CUTIA!!! -->
  <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no">
  <script src="https://api.tiles.mapbox.com/mapbox-gl-js/v0.49.0/mapbox-gl.js"></script>
  <link href="https://api.tiles.mapbox.com/mapbox-gl-js/v0.49.0/mapbox-gl.css" rel="stylesheet">
  <div id="helpshow">
    <div id="menuhelp"><i class="fas fa-arrow-up" style="transform: rotate(-30deg); webkit-transform: rotate(-30deg);"></i>
      Click the compass to navigate the chapters</div>
  </div>
</head>
<body data-scroll-time="0" class="body-fixed">
  <div class="foot-galaxy">
    <div id="topmap" class="introchap w-node-b824cf95-2e26-6bfc-f60b-59c452ebefe4-ba1bdcd8 wf-section">
      <div class="controls byfoot-menu">
        <div class="titlebar byfoot-titlebar w-clearfix">
          <div class="home-compass"><img src="images/142-512.png" alt="" class="compass-index"></div>
          <h3 class="chapter-title byfoot-title">By Foot:Â click the map points to see historical views of urban spaces in Poughkeepsie</h3>
          <div class="infohelp byfoot-info w-clearfix"><img src="images/megaphone-communications-loudspeaker-shout-announcer-protest-512.png" alt="take action megaphone" class="control-img">
            <div class="infowrap byfoot-infowrap w-embed"><i class="fas fa-question-circle" style="font-size: 20px; color: #f19400;"></i></div>
          </div>
        </div>
      </div>
      <div class="w-embed w-script">
        <div id="map"></div>
        <script>
mapboxgl.accessToken = 'pk.eyJ1IjoibWFiMjUzIiwiYSI6IlBfal9DblUifQ.D-hAe_W0jfTNfU3pj4lH5w';
const map = new mapboxgl.Map({
container: 'map',
style: 'mapbox://styles/mab253/cjoedu06g3un32soaenhkclco',
center: [-73.92552137374878, 41.702780824698394],
zoom: 15.0
});
map.scrollZoom.disable();
var nav = new mapboxgl.NavigationControl();
map.addControl(nav, 'bottom-right');
map.on('load', function () {
    map.addLayer({
        "id": "points",
        "type": "symbol",
        "source": {
            "type": "geojson",
            "data": {
                "type": "FeatureCollection",
                "features": [{
                    "type": "Feature",
                    "geometry": {
                        "type": "Point",
                        "coordinates": [-73.92442703247069, 41.70419861663491]
                    },
                    "properties": {
                        "info": "CATHARINE & MILL ST.",
                        "description": 
"<div id='millst'><a href='#millst-slide'><i class='fas fa-camera'></i> See 1870 vs. 2018</a></div>"
                    }
                }, {
                    "type": "Feature",
                    "geometry": {
                        "type": "Point",
                        "coordinates": [-73.93157243728638, 41.70494354563269]
                    },
                    "properties": {
                        "info": "MAIN & VASSAR ST.",
                        "description": 
"<div id='mainst'><a href='#mainst-slide'><i class='fas fa-camera'></i> See 1970 vs. 2018</a></div>"
                    }
                },{
                    "type": "Feature",
                    "geometry": {
                        "type": "Point",
                        "coordinates": [-73.92923891544342, 41.703942294984046]
                    },
                    "properties": {
                        "info": "VIEW FROM COURTHOUSE",
                        "description": 
"<div id='courtin'><a href='#court-slide'><i class='fas fa-camera'></i> See 1906 vs. 2018</a></div>"
                    }
                }, {
                    "type": "Feature",
                    "geometry": {
                        "type": "Point",
                        "coordinates": [-73.92926573753357, 41.705720505391994]
                    },
                    "properties": {
                        "info": "DRIVE THE ARTERIALS",
                        "description": 
"<div id='driveart'><a href='#driveart-slide'><i class='fas fa-camera'></i> Driver's view of the street</a></div>"
                    }
                },  {
                    "type": "Feature",
                    "geometry": {
                        "type": "Point",
                        "coordinates": [-73.916916847229, 41.698246884732946]
                    },
                    "properties": {
                        "info": "DRIVE THE ARTERIALS",
                        "description": 
"<div id='drivehouse'><a href='#drivehouse-slide'><i class='fas fa-camera'></i> Driver's view of the street</a></div>"
                    }
                }, {
                    "type": "Feature",
                    "geometry": {
                        "type": "Point",
                        "coordinates": [-73.92979145050049, 41.701803571378335]
                    },
                    "properties": {
                        "info": "OLD ARMORY",
                        "description": 
"<div id='arm'><a href='#armoryslide'><i class='fas fa-camera'></i> See 1905 vs. 2018</a></div>"
                    }
                }
                ]
            }
        },
        "layout": {
            "icon-image": "za-provincial-2",
            "text-field": "{info}",
            "text-font": ["Open Sans Semibold", "Arial Unicode MS Bold"],
            "text-offset": [0, 0.6],
            "text-anchor": "top"
        }
    }); //addLayer
    // Create a popup, but don't add it to the map yet.
    var popup = new mapboxgl.Popup({
        closeButton: false,
        closeOnClick: false
    });
    map.on('mouseenter', 'points', function(e) {
        // Change the cursor style as a UI indicator.
        map.getCanvas().style.cursor = 'pointer';
        var coordinates = e.features[0].geometry.coordinates.slice();
        var description = e.features[0].properties.description;
        // Ensure that if the map is zoomed out such that multiple
        // copies of the feature are visible, the popup appears
        // over the copy being pointed to.
        while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {
            coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;
        }
        // Populate the popup and set its coordinates
        // based on the feature found.
        popup.setLngLat(coordinates)
            .setHTML(description)
            .addTo(map);
    });
    map.on('mouseleave', 'points', function() {
        map.getCanvas().style.cursor = '';
        //popup.remove();
    });
}); //onLoad
</script>
      </div>
    </div>
    <div id="millst-slide" class="introchap w-node-_1bdf1432-1972-d6aa-3c56-d9c025c5bab0-ba1bdcd8 wf-section">
      <div class="backtomap">
        <div class="html-embed-5 w-embed">
          <a href="#topmap" style="text-decoration: none; color: #333 !important;">
            <h1 class="backtomap-header" style="background-color: #ffa306; padding: 8px 12px; font-size: 18px;">
              <i class="fas fa-arrow-up"></i> back to map
            </h1>
          </a>
        </div>
        <div>
          <div class="w-embed">
            <div class="opacity-control">
              <h2 style="margin: 0; color: #333; font-size: 16px; padding: 8px 12px; background-color: #c2ff00; width: auto; line-height: 1em;">
                <span class="thetoggle"><i class="fas fa-toggle-on"></i></span>
                toggle opacity
              </h2>
            </div>
          </div>
        </div>
      </div>
      <div id="sliderbg" class="slider-bg byfoot-1">
        <div id="slidervid" class="slider-vid">
          <div data-poster-url="videos/millstCut-poster-00001.jpg" data-video-urls="videos/millstCut-transcode.mp4,videos/millstCut-transcode.webm" data-autoplay="true" data-loop="true" data-wf-ignore="true" class="bgvid-video w-background-video w-background-video-atom"><video autoplay="" loop="" style="background-image:url(&quot;videos/millstCut-poster-00001.jpg&quot;)" muted="" playsinline="" data-wf-ignore="true" data-object-fit="cover">
              <source src="videos/millstCut-transcode.mp4" data-wf-ignore="true">
              <source src="videos/millstCut-transcode.webm" data-wf-ignore="true">
            </video></div>
        </div>
      </div>
    </div>
    <div id="armoryslide" class="introchap w-node-_2631f7a7-30c4-048f-bad3-033b09a3e24f-ba1bdcd8 wf-section">
      <div class="backtomap">
        <div class="html-embed-5 w-embed">
          <a href="#topmap" style="text-decoration: none; color: #333 !important;">
            <h1 class="backtomap-header" style="background-color: #ffa306; padding: 8px 12px; font-size: 18px;">
              <i class="fas fa-arrow-up"></i> back to map
            </h1>
          </a>
        </div>
        <div>
          <div class="w-embed">
            <div class="opacity-control">
              <h2 style="margin: 0; color: #333; font-size: 16px; padding: 8px 12px; background-color: #c2ff00; width: auto; line-height: 1em;">
                <span class="thetoggle"><i class="fas fa-toggle-on"></i></span>
                toggle opacity
              </h2>
            </div>
          </div>
        </div>
      </div>
      <div id="sliderbg2" class="slider-bg byfoot-2">
        <div id="slidervid2" class="slider-vid armory-vid-rotate">
          <div data-poster-url="videos/armoryCut-poster-00001.jpg" data-video-urls="videos/armoryCut-transcode.mp4,videos/armoryCut-transcode.webm" data-autoplay="true" data-loop="true" data-wf-ignore="true" class="bgvid-video bgvid2 w-background-video w-background-video-atom"><video autoplay="" loop="" style="background-image:url(&quot;videos/armoryCut-poster-00001.jpg&quot;)" muted="" playsinline="" data-wf-ignore="true" data-object-fit="cover">
              <source src="videos/armoryCut-transcode.mp4" data-wf-ignore="true">
              <source src="videos/armoryCut-transcode.webm" data-wf-ignore="true">
            </video></div>
        </div>
      </div>
    </div>
    <div id="mainst-slide" class="introchap w-node-_2765fcf8-27c1-ca8c-37df-f9aa638a4fcf-ba1bdcd8 wf-section">
      <div class="backtomap">
        <div class="html-embed-5 w-embed">
          <a href="#topmap" style="text-decoration: none; color: #333 !important;">
            <h1 class="backtomap-header" style="background-color: #ffa306; padding: 8px 12px; font-size: 18px;">
              <i class="fas fa-arrow-up"></i> back to map
            </h1>
          </a>
        </div>
        <div>
          <div class="w-embed">
            <div class="opacity-control">
              <h2 style="margin: 0; color: #333; font-size: 16px; padding: 8px 12px; background-color: #c2ff00; width: auto; line-height: 1em;">
                <span class="thetoggle"><i class="fas fa-toggle-on"></i></span>
                toggle opacity
              </h2>
            </div>
          </div>
        </div>
      </div>
      <div id="sliderbg3" class="slider-bg byfoot-3">
        <div id="slidervid3" class="slider-vid main-vid">
          <div data-poster-url="videos/181220_mainlookingeast-poster-00001.jpg" data-video-urls="videos/181220_mainlookingeast-transcode.mp4,videos/181220_mainlookingeast-transcode.webm" data-autoplay="true" data-loop="true" data-wf-ignore="true" class="bgvid-video bgvid3 w-background-video w-background-video-atom"><video autoplay="" loop="" style="background-image:url(&quot;videos/181220_mainlookingeast-poster-00001.jpg&quot;)" muted="" playsinline="" data-wf-ignore="true" data-object-fit="cover">
              <source src="videos/181220_mainlookingeast-transcode.mp4" data-wf-ignore="true">
              <source src="videos/181220_mainlookingeast-transcode.webm" data-wf-ignore="true">
            </video></div>
        </div>
      </div>
    </div>
    <div id="court-slide" class="introchap w-node-f2cf8453-ca1b-3be2-ce75-cc3dba709f40-ba1bdcd8 wf-section">
      <div class="backtomap">
        <div class="html-embed-5 w-embed">
          <a href="#topmap" style="text-decoration: none; color: #333 !important;">
            <h1 class="backtomap-header" style="background-color: #ffa306; padding: 8px 12px; font-size: 18px;">
              <i class="fas fa-arrow-up"></i> back to map
            </h1>
          </a>
        </div>
        <div>
          <div class="w-embed">
            <div class="opacity-control">
              <h2 style="margin: 0; color: #333; font-size: 16px; padding: 8px 12px; background-color: #c2ff00; width: auto; line-height: 1em;">
                <span class="thetoggle"><i class="fas fa-toggle-on"></i></span>
                toggle opacity
              </h2>
            </div>
          </div>
        </div>
      </div>
      <div id="sliderbg4" class="slider-bg byfoot-4">
        <div id="slidervid4" class="slider-vid court-vid">
          <div data-poster-url="videos/181220_viewfromcourthouse-poster-00001.jpg" data-video-urls="videos/181220_viewfromcourthouse-transcode.mp4,videos/181220_viewfromcourthouse-transcode.webm" data-autoplay="true" data-loop="true" data-wf-ignore="true" class="bgvid-video bgvid3 w-background-video w-background-video-atom"><video autoplay="" loop="" style="background-image:url(&quot;videos/181220_viewfromcourthouse-poster-00001.jpg&quot;)" muted="" playsinline="" data-wf-ignore="true" data-object-fit="cover">
              <source src="videos/181220_viewfromcourthouse-transcode.mp4" data-wf-ignore="true">
              <source src="videos/181220_viewfromcourthouse-transcode.webm" data-wf-ignore="true">
            </video></div>
        </div>
      </div>
    </div>
    <div id="driveart-slide" class="introchap w-node-_3f52256b-0ef2-0640-81b8-1da150211627-ba1bdcd8 wf-section">
      <div class="backtomap">
        <div class="html-embed-5 w-embed">
          <a href="#topmap" style="text-decoration: none; color: #333 !important;">
            <h1 class="backtomap-header" style="background-color: #ffa306; padding: 8px 12px; font-size: 18px;">
              <i class="fas fa-arrow-up"></i> back to map
            </h1>
          </a>
        </div>
        <div></div>
      </div>
      <div id="drivebg5" class="slider-bg byfoot-5">
        <div id="driveartvid" class="slider-vid driveartvid">
          <div data-poster-url="videos/driveArt1webmhd-poster-00001.jpg" data-video-urls="videos/driveArt1webmhd-transcode.mp4,videos/driveArt1webmhd-transcode.webm" data-autoplay="true" data-loop="true" data-wf-ignore="true" class="bgvid-video bgvid4 w-background-video w-background-video-atom"><video autoplay="" loop="" style="background-image:url(&quot;videos/driveArt1webmhd-poster-00001.jpg&quot;)" muted="" playsinline="" data-wf-ignore="true" data-object-fit="cover">
              <source src="videos/driveArt1webmhd-transcode.mp4" data-wf-ignore="true">
              <source src="videos/driveArt1webmhd-transcode.webm" data-wf-ignore="true">
            </video></div>
        </div>
      </div>
    </div>
    <div id="drivehouse-slide" class="introchap w-node-ee266a7f-c41a-db60-6dff-c3a5738842d2-ba1bdcd8 wf-section">
      <div class="backtomap">
        <div class="html-embed-5 w-embed">
          <a href="#topmap" style="text-decoration: none; color: #333 !important;">
            <h1 class="backtomap-header" style="background-color: #ffa306; padding: 8px 12px; font-size: 18px;">
              <i class="fas fa-arrow-up"></i> back to map
            </h1>
          </a>
        </div>
        <div></div>
      </div>
      <div id="drivebg6" class="slider-bg byfoot-5">
        <div id="drivehousevid" class="slider-vid driveartvid">
          <div data-poster-url="https://uploads-ssl.webflow.com/5babb1264254bf0ab1cfada7/5c537ae5889880615715f4c5_drivecutz2 - houseswebmhd-poster-00001.jpg" data-video-urls="https://uploads-ssl.webflow.com/5babb1264254bf0ab1cfada7/5c537ae5889880615715f4c5_drivecutz2 - houseswebmhd-transcode.mp4,https://uploads-ssl.webflow.com/5babb1264254bf0ab1cfada7/5c537ae5889880615715f4c5_drivecutz2 - houseswebmhd-transcode.webm" data-autoplay="true" data-loop="true" data-wf-ignore="true" class="bgvid-video bgvid4 w-background-video w-background-video-atom"><video autoplay="" loop="" style="background-image:url(&quot;https://uploads-ssl.webflow.com/5babb1264254bf0ab1cfada7/5c537ae5889880615715f4c5_drivecutz2 - houseswebmhd-poster-00001.jpg&quot;)" muted="" playsinline="" data-wf-ignore="true" data-object-fit="cover">
              <source src="https://uploads-ssl.webflow.com/5babb1264254bf0ab1cfada7/5c537ae5889880615715f4c5_drivecutz2 - houseswebmhd-transcode.mp4" data-wf-ignore="true">
              <source src="https://uploads-ssl.webflow.com/5babb1264254bf0ab1cfada7/5c537ae5889880615715f4c5_drivecutz2 - houseswebmhd-transcode.webm" data-wf-ignore="true">
            </video></div>
        </div>
      </div>
    </div>
  </div>
  <div class="index byfoot-index w-clearfix">
    <div class="html-embed-8 w-embed w-iframe"><iframe src="https://mapmenu.reflectivefuturespk.org/export-map/menu-interactive.html" style="width: 100%; height: 100vh; border: 0;"></iframe></div>
    <div class="index-close">
      <div class="html-embed-3 w-embed"><i class="far fa-times-circle" style="font-size: 30px; color: White;"></i></div>
    </div>
  </div>
  <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=5babb1264254bf0ab1cfada7" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script src="js/webflow.js" type="text/javascript"></script>
  <!-- [if lte IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/placeholders/3.0.2/placeholders.min.js"></script><![endif] -->
  <script>
var how = 0;
function checkSlide() {
  var ww = $(window).width();
  var space = $(window).scrollLeft();
  how = space / ww;
  spaceint = Math.floor(how);
  spaceup = Math.round(how);
  return spaceint;
  return spaceup;
  return how;
}
$(document).ready(function() {
  //compass menu
  //colors
  $("li#chap0-link").css("background-color","#1c667c !important"); /*blue, river*/
  $("li#chap1-link").css("background-color","#622d72 !important"); /*purple, roads*/
  $("li.chap2-link").css("background-color","#ea8c8c"); /*pink, rail*/
  $("li.chap3-link").css("background-color","#d3c11f"); /*yellow, transit*/
  $("li.chap4-link").css("background-color","#63b9e5"); /*light blue, bridge*/
  $("li.chap5-link").css("background-color","#d60508"); /*red, access*/
  $("li.chap6-link").css("background-color","#db841a"); /*orange, renewal*/
  $("li.chap7-link").css("border-style","none none solid"); /*by foot*/
  //link and link text  
  $("li.chap2-link").attr("data-href","rail");
  $("li.chap3-link").attr("data-href","public-transit");
  $("li.chap4-link").html("SECOND BRIDGE");
  $("li.chap4-link").attr("data-href", "bridge");
  $("li.chap5-link").html("ACCESS");
  $("li.chap5-link").attr("data-href", "access"); 
  $("li.chap6-link").html("URBAN RENEWAL IN THREE ACTS");
  $("li.chap-link.three-acts").eq(0).attr("data-href","route-9");
  $("li.chap-link.three-acts").eq(1).attr("data-href","battle-ew");
  $("li.chap-link.three-acts").eq(2).attr("data-href","main-mall");
  $("li.chap7-link").html("BY FOOT --------------------------------");
  //link functions
  $("li.chap-link").click(function() {
    if ($(this).hasClass("chap6-link")) {
      $("li.three-acts").toggle();
    } else {
    var gofly = $(this).attr("data-href");
    $("body").animate({opacity: 0},800);
    setTimeout(function() {
      window.location.href = "/" + gofly;
    },800);
    }
  });
  /*chapter navigations etc.*/
  window.location.href= "#" +chapter + "0";
  $("html,body").animate({scrollLeft: 0}, 200);
  $("#bigintro").click(function() {
    $("#bigintro").animate({opacity: 0}, 600);
      setTimeout(function() {
      	$("#bigintro").remove();
      },600);
  });
  $("img.caption-open").click(function() {
    //checkSlide(); /*not slide based, hide/shows all*/
    $("div.caption").toggleClass("hidecaption");    
    	//var thespace = spaceint;
    	//$("div.caption").removeClass("open");
    	//$("div#" + chapter + "-cap-" + thespace + "").addClass("open");
    	//$("div#" + chapter + "-cap-" + thespace + "").animate({
    	//opacity: 1}, 500);  
    	//$("div.caption:not(.open)").animate({opacity: 0}, 200);
      var thespacelink = spaceup;
      var thescroll = $(window).width() * thespacelink;
      $("html,body").animate({scrollLeft: thescroll}, 600);
  	});
    /*$("div.cap-close").click(function() {
      $("div.caption").removeClass("open");
    	$("div.caption").animate({
    	opacity: 0}, 200);
    });*/
    $("img#forward").click(function() {
    	checkSlide();
        console.log(spaceint + " round down, " + spaceup + " round up");
      if (spaceint == count) {
      	$("body").animate({
        opacity: 0}, 1000);
        setTimeout(function() {
        window.location.href = next;
        }, 1000);
      } else {
      var thespacelink = spaceint + 1;
      var thescroll = $(window).width() * thespacelink;
      $("html,body").animate({scrollLeft: thescroll}, 600);
      }
    });
    $("img#rewind").click(function() {
    	checkSlide();
        console.log(spaceint + " round down, " + spaceup + " round up");
      if (how == spaceint) {
      	var thespacelink = spaceint - 1;
      	var thescroll = $(window).width() * thespacelink;
      	$("html,body").animate({scrollLeft: thescroll}, 600);
      }
      else {
        var thescroll = $(window).width() * spaceint;
        $("html,body").animate({scrollLeft: thescroll}, 600);
      }
    });
    $("img.compass-index").click(function() {
    	$("div.index").fadeIn("fast");
    });
    $("div.index-close").click(function() {
    	$("div.index").fadeOut("fast");
    });
    $("i.fa-question-circle").click(function() {
    	$("div#helpshow").fadeIn("fast");
    });
    $("div#helpshow").click(function() {
    	$(this).hide();
    });
    $(window).scroll(function() {
    	checkSlide();
      if (spaceint == count) {
      	$("#nextchap").fadeIn("slow");
      }
    });
    $("#nextchap").click(function() {
    	$("body").animate({
        opacity: 0}, 1000);
        setTimeout(function() {
        window.location.href = next;
        }, 1000);
    });
}); /*document.ready*/
</script>
  <script>
$(document).ready(function() {
		$("div.opacity-control").trigger("click");
	  $("img.compass-index").click(function() {
    	$("div.index").fadeIn("fast");
    });
    $("div.index-close").click(function() {
    	$("div.index").fadeOut("fast");
    });
    $("i.fa-question-circle").click(function() {
    	$("div#helpshow").fadeIn("fast");
    });
    $("div#helpshow").click(function() {
    	$(this).hide();
    });
    $("div.opacity-control").click(function() {
     $(this).parents(".introchap").find("div.slider-vid").toggleClass("ghost");
     if ($("span.thetoggle").html().indexOf("fa-toggle-on") > -1) {
     	$("span.thetoggle").html("<i class='fas fa-toggle-off'></i>");
     } else {
     $("span.thetoggle").html("<i class='fas fa-toggle-on'></i>");
     }
    });
    $(window).resize(function() {
    	$("html,body").animate({scrollTop:0},100);
      location.reload();
    });
});
function trackLocation(e) {
  var rect = videoContainer.getBoundingClientRect(),
      position = ((e.pageX - rect.left) / videoContainer.offsetWidth)*100;
  if (position <= 100) { 
    videoClipper.style.width = position+"%";
    clippedVideo.style.width = ((100/position)*100)+"%";
    clippedVideo.style.zIndex = 0;
	}
}
var videoContainer = document.getElementById("sliderbg"),
videoClipper = document.getElementById("slidervid"),
clippedVideo = videoClipper.getElementsByTagName("video")[0];
videoContainer.addEventListener("mousemove", trackLocation, false); 
videoContainer.addEventListener("touchstart",trackLocation,false);
videoContainer.addEventListener("touchmove",trackLocation,false);
function trackLocation2(e) {
  var rect = videoContainer2.getBoundingClientRect(),
      position = ((e.pageX - rect.left) / videoContainer2.offsetWidth)*100;
  if (position <= 100) { 
    videoClipper2.style.width = position+"%";
    clippedVideo2.style.width = ((100/position)*100)+"%";
    clippedVideo2.style.zIndex = 0;
	}
}
var videoContainer2 = document.getElementById("sliderbg2"),
videoClipper2 = document.getElementById("slidervid2"),
clippedVideo2 = videoClipper.getElementsByTagName("video")[0];
videoContainer2.addEventListener("mousemove", trackLocation2, false); 
videoContainer2.addEventListener("touchstart",trackLocation2,false);
videoContainer2.addEventListener("touchmove",trackLocation2,false);
function trackLocation3(e) {
  var rect = videoContainer3.getBoundingClientRect(),
      position = ((e.pageX - rect.left) / videoContainer3.offsetWidth)*100;
  if (position <= 100) { 
    videoClipper3.style.width = position+"%";
    clippedVideo3.style.width = ((100/position)*100)+"%";
    clippedVideo3.style.zIndex = 0;
	}
}
var videoContainer3 = document.getElementById("sliderbg3"),
videoClipper3 = document.getElementById("slidervid3"),
clippedVideo3 = videoClipper.getElementsByTagName("video")[0];
videoContainer3.addEventListener("mousemove", trackLocation3, false); 
videoContainer3.addEventListener("touchstart",trackLocation3,false);
videoContainer3.addEventListener("touchmove",trackLocation3,false);
function trackLocation4(e) {
  var rect = videoContainer4.getBoundingClientRect(),
      position = ((e.pageX - rect.left) / videoContainer4.offsetWidth)*100;
  if (position <= 100) { 
    videoClipper4.style.width = position+"%";
    clippedVideo4.style.width = ((100/position)*100)+"%";
    clippedVideo4.style.zIndex = 0;
	}
}
var videoContainer4 = document.getElementById("sliderbg4"),
videoClipper4 = document.getElementById("slidervid4"),
clippedVideo4 = videoClipper.getElementsByTagName("video")[0];
videoContainer4.addEventListener("mousemove", trackLocation4, false); 
videoContainer4.addEventListener("touchstart",trackLocation4,false);
videoContainer4.addEventListener("touchmove",trackLocation4,false);
</script>
</body>
</html>